<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Time Travel Marketplace: A Living History Sandbox</title>
    <link href="https://fonts.googleapis.com/css2?family=Courier+Prime&display=swap" rel="stylesheet">
    <style>
        /* CORE STYLES */
        body, html {
            margin:0; padding:0; width:100%; height:100%; overflow:hidden;
            background:#0d0d0d; color:#e6e6e6; font-family:'Courier Prime', monospace;
            display:flex; justify-content:center; align-items:center; text-align:center;
        }
        .stage { position:absolute; top:0; left:0; width:100%; height:100%; display:flex; flex-direction:column; justify-content:center; align-items:center; opacity:0; transition:opacity 1s ease-in-out; padding:2em; box-sizing:border-box; }
        .stage.active { opacity:1; }
        button { cursor:pointer; margin:1em; padding:.5em 1em; background:#e6e6e6; color:#0d0d0d; border:2px solid #e6e6e6; font-family:'Courier Prime', monospace; }
        .hidden { display:none; }

        /* ENIGMA STAGE */
        .enigma-stage { color:#0f0; background:#0d0d0d; }
        .enigma-output { white-space:pre-wrap; text-align:left; width:80%; max-width:600px; }
        .enigma-prompt { font-size:1.2em; margin-top:1em; }

        /* DOS STAGE */
        .dos-stage { text-align:left; color:#e6e6e6; background:#0d0d0d; }
        .dos-output { width:80%; max-width:600px; }

        /* WIN 3.1 STAGE */
        .win31-stage { color:#000; background:#c0c0c0; }
        .win31-title { font-family:Arial, sans-serif; font-size:2em; font-weight:bold; }
        .win31-progress-bar { width:300px; height:15px; background:#fff; border:1px solid #000; margin-top:1em; }
        .win31-progress-fill { height:100%; width:0%; background:#000084; transition: width 0.5s ease-out; }

        /* BSOD PARODY */
        .bsod-stage { color:#000084; background:#808080; font-weight:bold; }
        .bsod-text { color:#000084; font-weight:bold; }
        .bsod-buttons button { background:#c0c0c0; border:2px outset #fff; padding:5px 15px; font-size:12px; color:#000; }

        /* CODE ERA STAGE */
        .code-era-stage { background-color: #101010; color: #00ff99; font-family: 'Courier Prime', monospace; text-align: center; padding: 2em; }
        .punch-card { display: inline-block; background-color: #222; color: #0f0; border: 2px solid #0f0; padding: 1em; margin: 1em; }
        .mechanical-code button { margin: 1em; padding: 0.5em 1em; background-color: #00ff99; color: #101010; border: 2px solid #00ff99; cursor: pointer; }
        .algorithm-code pre, .digital-code pre { background-color: #111; color: #0f0; padding: 1em; overflow-x: auto; }

        /* WIN XP STAGE */
        .winxp-stage { background:#004d80; color:#fff; }
        .winxp-title { font-size:2em; font-weight:bold; }
        .winxp-logo { width:150px; margin-bottom:1em; }
        .winxp-progress-bar { width:300px; height:15px; background:#4b4b4b; border:1px solid #000; margin-top:1em; }
        .winxp-progress-fill { height:100%; background:#00bfff; transition:width 0.5s; }
        .winxp-continue-btn { background:#004d80; color:#fff; border:2px solid #fff; }

        /* 20TH CENTURY / FOX PARODY */
        .fox-stage { background:#000; color:#fff; }
        .fox-text { font-family:'Times New Roman', serif; font-size:3em; text-shadow:2px 2px #ffcc00; animation:fox-text-glow 2s infinite alternate; }
        @keyframes fox-text-glow { from { text-shadow: 2px 2px #ffcc00; } to { text-shadow: 4px 4px #ffcc00; } }

        /* SUS HISTORY STAGE */
        .sus-history-stage { background:#111; color:#ff0000; }
        .sus-history-disclaimer { border:2px solid #ff0000; padding:1em; margin-bottom:1em; }
        .sus-history-content { font-family:'Courier New', monospace; text-align:left; width:80%; max-width:600px; }

        /* MAC STAGE */
        .mac-stage { background:#c0c0c0; color:#000; }
        .mac-video { width:100px; height:auto; }

        /* 80s ARCADE STAGE */
        .arcade-stage { background-color: #000000; color: #ff00ff; }
        .arcade-screen { border: 5px solid #fff; padding: 2em; background-color: #000; position: relative; overflow: hidden; }
        .arcade-screen h2 { font-family: 'Pixelated', monospace; font-size: 3em; margin-bottom: 0.5em; animation: arcade-text-flicker 0.5s infinite; }
        @keyframes arcade-text-flicker { 50% { opacity: 0.7; } }
        .arcade-buttons button { background-color: #ff00ff; color: #000; border: 2px solid #ff00ff; animation: arcade-glow 1s infinite alternate; }
        @keyframes arcade-glow { from { box-shadow: 0 0 5px #ff00ff; } to { box-shadow: 0 0 20px #ff00ff; } }
        .player-icon { font-size: 2em; position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); animation: player-move 2s infinite alternate; }
        @keyframes player-move { from { transform: translate(-70%, -50%); } to { transform: translate(70%, -50%); } }

        /* RAVE / MUSIC ERA */
        .rave-stage { color:#0f0; background:#0d0d0d; }
        .rave-text { font-size:1.5em; animation:rave-text-flicker 1s infinite alternate; }
        @keyframes rave-text-flicker { from {opacity:1;} to {opacity:0.7;} }
        .rave-buttons button { background:#0f0; color:#000; border:2px solid #0f0; animation:rave-glow 1s infinite alternate; }
        @keyframes rave-glow { from {box-shadow:0 0 5px #0f0;} to {box-shadow:0 0 20px #0f0;} }
        .rave-embed { width:100%; max-width:500px; }

        /* GLITCH STAGE */
        .glitch-stage { background:#0d0d0d; color:#f0f; }
        .glitch-text { font-size:2em; animation:glitch .5s infinite; }
        @keyframes glitch { 0% {transform:translate(1px,1px);} 25% {transform:translate(-1px,-1px);} 50% {transform:translate(1px,-1px);} 75% {transform:translate(-1px,1px);} 100% {transform:translate(0,0);} }

        /* NOKIA WARNING/LOADING */
        .nokia-stage { background:#0d121c; color:#fff; font-family:'Courier New', monospace; }
        .nokia-flash { position:absolute; top:0; left:0; width:100%; height:100%; background:rgba(255,0,0,.3); animation: flash 0.5s infinite; opacity:0; }
        @keyframes flash { 50% {opacity:1;} }
        .nokia-logo { width:100px; height:auto; margin-bottom:1em; }
        .nokia-status-text { font-family:'NokiaFont',monospace; font-size:1.2em; }

        /* LINUX FINAL BOSS */
        .linux-stage { background:#0d0d0d; color:#e6e6e6; }
        .linux-logo { width:100px; height:auto; }
        .linux-hug-btn { background:#000084; color:#fff; }

        /* PREHISTORIC STAGE */
        .prehistoric-stage {
            background: linear-gradient(to top, #654321, #c2b280);
            color: #000;
            font-family: 'Courier Prime', monospace;
            position: relative;
            height: 100%;
            text-align: center;
        }

        .prehistoric-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 2em;
            margin-top: 2em;
        }

        .prehistoric-item {
            width: 100px;
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .prehistoric-item:hover {
            transform: scale(1.2) rotate(5deg);
        }

        .prehistoric-info {
            position: absolute;
            bottom: 20%;
            left: 50%;
            transform: translateX(-50%);
            width: 60%;
            background-color: rgba(255,255,255,0.9);
            color: #000;
            padding: 1em;
            border-radius: 8px;
        }

        .prehistoric-info.hidden {
            display: none;
        }

        /* GENESIS STAGE */
        .genesis-stage {
            background-color: #000;
            color: #fff;
            text-align: center;
            font-family: 'Courier New', Courier, monospace;
        }
        .genesis-info {
            white-space: pre-wrap;
            text-align: left;
            width: 80%;
            max-width: 600px;
            margin-top: 20px;
        }
        
        /* WHONIX/TAILS STAGE */
        .whonix-tails-stage {
            background-color: #000;
            color: #fff;
            font-family: 'Courier New', Courier, monospace;
        }
        .whonix-tails-output {
            white-space: pre-wrap;
            text-align: left;
            width: 80%;
            max-width: 600px;
        }
        
        /* New styling for the 'I' in TIME to look like a TARDIS */
        .tardis-i::before {
            content: " ";
            display: inline-block;
            width: 1em;
            height: 1.5em;
            background-color: #0077c9;
            border: 2px solid #fff;
            margin-right: 0.2em;
            transform: translateY(0.2em);
        }
    </style>
</head>
<body>

    <!-- ENIGMA STAGE -->
    <div id="enigma-stage" class="stage enigma-stage active">
        <div class="enigma-output">
            <p>***</p>
            <p>DECODING MESSAGE...</p>
            <p>ENCRYPTING DATA...</p>
            <p>MESSAGE RECEIVED: "THE <span class="tardis-i">I</span>ME TRAVEL MARKETPLACE"</p>
            <p class="prompt-text">Press any key to continue...</p>
        </div>
    </div>

    <!-- PREHISTORIC STAGE -->
    <div id="prehistoric-stage" class="stage prehistoric-stage hidden">
        <div class="era-title">Nature’s Inventions: Early Man & Evolution</div>
        <p class="prompt-text">Hover over the elements to see how evolution and early tools shaped life...</p>

        <div class="prehistoric-container">
            <img src="https://upload.wikimedia.org/wikipedia/commons/e/e0/Stone_hand_axe_of_Mousterian_period.svg" alt="Stone Tool" class="prehistoric-item" data-info="Stone tools were first used around 2.5 million years ago by early hominins.">
            <img src="https://upload.wikimedia.org/wikipedia/commons/4/4b/Flame_icon.svg" alt="Controlled Fire" class="prehistoric-item" data-info="Controlled use of fire appeared roughly 1 million years ago, providing warmth and protection.">
            <img src="https://upload.wikimedia.org/wikipedia/commons/2/23/Wheel_icon.svg" alt="Wheel" class="prehistoric-item" data-info="The wheel was invented much later, around 3500 BCE, revolutionizing transport.">
        </div>

        <div class="prehistoric-info hidden" id="prehistoric-info"></div>

        <button id="prehistoric-continue-btn">Continue</button>
    </div>

    <!-- DOS STAGE -->
    <div id="dos-stage" class="stage dos-stage hidden">
        <div class="dos-output">
            <p>C:\></p>
            <p>C:\>LOADING TIMETRAVEL.EXE</p>
            <p>C:\>LOADED. PRESS ANY KEY</p>
        </div>
    </div>

    <!-- WIN 3.1 STAGE -->
    <div id="win31-stage" class="stage win31-stage hidden">
        <div>
            <p class="win31-title">Windows 3.1</p>
            <p>Starting The Time Travel Marketplace...</p>
            <div class="win31-progress-bar">
                <div id="win31-progress-fill"></div>
            </div>
        </div>
    </div>

    <!-- BSOD PARODY -->
    <div id="bsod-stage" class="stage bsod-stage hidden">
        <div>
            <p style="font-size:1.5em;">An Error Has Occurred: You've reached a satire shop where capitalism dies.</p>
            <button id="skip-bsod-btn">SKIP</button>
        </div>
    </div>

    <!-- CODE ERA STAGE -->
    <div id="code-era-stage" class="stage code-era-stage hidden">
        <div class="era-title">The Dawn of Code</div>
        <p class="prompt-text">
            Before computers, there were instructions, algorithms, and clever machines.
        </p>
        <div class="code-block" id="code-block">
            <!-- Parody code will be typed here -->
        </div>
        <button id="code-hack-btn">Hack The Code</button>
        <button id="code-era-continue-btn" class="hidden">Continue</button>
    </div>

    <!-- WIN XP STAGE -->
    <div id="winxp-stage" class="stage winxp-stage hidden">
        <div>
            <img class="winxp-logo" src="https://upload.wikimedia.org/wikipedia/commons/0/00/Windows_XP_logo_2001.svg" alt="Windows XP Logo">
            <p class="winxp-title">Windows XP - The Time Travel Marketplace Loading...</p>
            <div class="winxp-progress-bar">
                <div id="winxp-progress-fill"></div>
            </div>
            <button id="winxp-continue-btn" class="winxp-continue-btn hidden">Continue</button>
        </div>
    </div>

    <!-- MAC PARODY STAGE -->
    <div id="mac-stage" class="stage mac-stage hidden">
        <div>
            <video id="mac-video" class="mac-video" autoplay loop muted playsinline>
                <source src="./1755174544360.mp4" type="video/mp4">
            </video>
            <p class="era-title">Welcome to The Time Travel Marketplace</p>
            <p class="prompt-text">Initiating sarcasm subroutine...</p>
            <div style="width:300px; height:15px; background:#fff; border:1px solid #000; margin-top:1em;">
                <div id="mac-progress-fill"></div>
            </div>
            <button id="mac-continue-btn" class="hidden">Continue</button>
        </div>
    </div>

    <!-- 20TH CENTURY / FOX PARODY -->
    <div id="fox-stage" class="stage fox-stage hidden">
        <p class="fox-text">20TH CENTURY FICTION</p>
        <p>A history compiled by the Time Travel Marketplace</p>
        <button id="fox-continue-btn">Continue</button>
    </div>
    
    <!-- Sus History Stage -->
    <div id="sus-history-stage" class="stage sus-history-stage hidden">
        <div class="sus-history-disclaimer">
            <p><strong>Disclaimer:</strong> This section contains history and content that may be inaccurate, satirical, or offensive. The views expressed here are not the views of the creator.</p>
        </div>
        <div class="sus-history-content">
            <p>... Placeholder content for your 'sus history' goes here ...</p>
        </div>
        <button id="sus-history-continue-btn">Continue</button>
    </div>

    <!-- 80s ARCADE STAGE -->
    <div id="arcade-stage" class="stage arcade-stage hidden">
        <div class="arcade-screen">
            <div class="player-icon">🕹️</div>
            <h2>INSERT COIN</h2>
            <p>1 Credit = 1 Hour of History</p>
        </div>
        <button id="insert-coin-btn">INSERT COIN</button>
        <button id="arcade-continue-btn" class="hidden">Next Era</button>
    </div>

    <!-- RAVE / MUSIC ERA -->
    <div id="rave-era-stage" class="stage rave-stage hidden">
        <div>
            <p class="era-title rave-text">The Rave & Electronic Music Era</p>
            <iframe id="mixcloud-embed" class="rave-embed" width="100%" height="120" src="" frameborder="0" style="display:none;"></iframe>
            <p id="mixcloud-placeholder" class="prompt-text">🔊 Loading musical time portal...</p>
            <div class="rave-buttons">
                <button id="drop-track-btn" onclick="console.log('Track dropped!')">Drop a Track</button>
                <button id="rave-continue-btn">Next Era</button>
            </div>
        </div>
    </div>
    
    <!-- GLITCH STAGE -->
    <div id="glitch-stage" class="stage glitch-stage hidden">
        <p class="glitch-text">2 1 S T - C E N T U R Y</p>
        <p>TRUTH . DATA . CORRUPTED</p>
        <button id="glitch-continue-btn">Continue</button>
    </div>

    <!-- WHONIX/TAILS STAGE -->
    <div id="whonix-tails-stage" class="stage whonix-tails-stage hidden">
        <div class="era-title">The Privacy Era</div>
        <div class="whonix-tails-output">
            <p><strong>Whonix:</strong> A secure OS that isolates the user from the network.</p>
            <p><strong>Tails:</strong> A live operating system that can be run from a USB stick.</p>
            <p><strong>Disclaimer:</strong> This is a parody for entertainment and archival purposes only. We have no affiliation with either OS.</p>
        </div>
        <button id="whonix-tails-continue-btn">Continue</button>
    </div>

    <!-- NOKIA WARNING/LOADING -->
    <div id="nokia-warning-stage" class="stage nokia-stage hidden">
        <div>
            <h2 style="font-family:'NokiaFont', monospace;">! SEIZURE WARNING</h2>
            <p style="font-size:12px; font-family:'NokiaFont', monospace;">This site contains flashing lights and animations. By clicking "Continue," you acknowledge this warning and proceed at your own risk.</p>
            <button id="nokia-continue-btn">CONTINUE</button>
        </div>
    </div>

    <!-- NOKIA PARODY -->
    <div id="nokia-parody-stage" class="stage nokia-stage hidden">
        <div>
            <div class="nokia-flash" id="nokia-flash"></div>
            <svg style="width:100px; height:auto; margin-bottom:1em;" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                <path d="M50 0 L40 50 L60 50 Z" transform="rotate(180 50 50)"/>
                <path d="M50 100 L40 50 L60 50 Z" transform="rotate(180 50 50)"/>
                <path d="M0 50 L50 40 L50 60 Z" transform="rotate(180 50 50)"/>
                <path d="M100 50 L50 40 L50 60 Z" transform="rotate(180 50 50)"/>
            </svg>
            <p id="nokia-status-text" class="nokia-status-text">ACCESS DENIED</p>
        </div>
    </div>

    <!-- LINUX FINAL BOSS -->
    <div id="linux-stage" class="stage linux-stage hidden">
        <div>
            <img id="linux-logo" src="./linux-hug-penguin.png" width="150" alt="Tux">
            <p class="prompt-text">You have defeated the final boss.</p>
            <p class="prompt-text">All it wanted was a hug.</p>
            <button id="linux-continue-btn">HUG</button>
        </div>
    </div>
    
    <script>
        const stages = [
            'enigma-stage','prehistoric-stage','dos-stage','win31-stage','netboot-stage',
            'bsod-stage','code-era-stage','winxp-stage','fox-stage','sus-history-stage',
            'mac-stage','arcade-stage','rave-era-stage','whonix-tails-stage', 'glitch-stage','nokia-warning-stage',
            'nokia-parody-stage','linux-stage'
        ];
        let currentStageIndex = 0;
        
        function speak(text, delay) {
            if ('speechSynthesis' in window) {
                setTimeout(() => {
                    const utterance = new SpeechSynthesisUtterance(text);
                    window.speechSynthesis.speak(utterance);
                }, delay);
            }
        }

        function showStage(index) {
            const allStages = document.querySelectorAll('.stage');
            allStages.forEach(stage => {
                stage.classList.remove('active');
            });
            document.getElementById(stages[index]).classList.add('active');
            runStageLogic(stages[index]);
        }
        
        function nextStage() {
            if (currentStageIndex >= stages.length - 1) {
                window.location.href = 'homepage.html';
                return;
            }
            document.getElementById(stages[currentStageIndex]).classList.remove('active');
            currentStageIndex++;
            document.getElementById(stages[currentStageIndex]).classList.add('active');
            runStageLogic(stages[currentStageIndex]);
        }

        function runStageLogic(stageId) {
            switch(stageId) {
                case 'win31-stage':
                    fillProgress('win31-progress-fill', 2000, () => nextStage());
                    break;
                case 'netboot-stage':
                    startNetbootParody();
                    break;
                case 'winxp-stage':
                    fillProgress('winxp-progress-fill', 2000, () => document.getElementById('winxp-continue-btn').classList.remove('hidden'));
                    break;
                case 'mac-stage':
                    document.getElementById('mac-video').play();
                    fillProgress('mac-progress-fill', 3000, () => document.getElementById('mac-continue-btn').classList.remove('hidden'));
                    break;
                case 'rave-era-stage':
                    document.getElementById('mixcloud-embed').src = "https://www.mixcloud.com/widget/iframe/?feed=%2Fmixcloud-user%2Fmixcloud-mix%2F&autoplay=1";
                    document.getElementById('mixcloud-embed').style.display = 'block';
                    document.getElementById('mixcloud-placeholder').style.display = 'none';
                    break;
                case 'nokia-parody-stage':
                    startNokiaParody();
                    break;
                case 'code-era-stage':
                    startCodeTyping();
                    break;
                case 'prehistoric-stage':
                    setupPrehistoricInteractions();
                    break;
                case 'seventies-stage':
                    setupSeventiesInteractions();
                    break;
                case 'arcade-stage':
                    setupArcadeStage();
                    break;
            }
        }

        function startCodeTyping() {
            const codeBlock = document.getElementById('code-block');
            const code = [
                '// Historical Footnote: The first computer bug was an actual moth.',
                'function antiCapitalistShop() {',
                '  let profit = 0;',
                '  if (input === "subversive_idea") {',
                '    profit = 100;',
                '    console.log("Success! Capitalism subverted.");',
                '  } else {',
                '    profit = 0;',
                '    console.log("Error: User followed traditional business practices.");',
                '  }',
                '  return profit;',
                '}',
                '// Hackable Parameter: Try changing the profit value above to something else.'
            ];
            let lineIndex = 0;
            let charIndex = 0;
            const typingSpeed = 20;

            const typingInterval = setInterval(() => {
                if (lineIndex < code.length) {
                    const currentLine = code[lineIndex];
                    if (charIndex <= currentLine.length) {
                        codeBlock.innerHTML = code.slice(0, lineIndex).join('<br>') + '<br>' + currentLine.substring(0, charIndex) + '<span style="animation:blink 1s step-end infinite;">_</span>';
                        charIndex++;
                    } else {
                        lineIndex++;
                        charIndex = 0;
                    }
                } else {
                    clearInterval(typingInterval);
                    document.getElementById('code-era-continue-btn').classList.remove('hidden');
                }
            }, typingSpeed);
        }

        function startNetbootParody() {
            const netbootOutput = document.getElementById('netboot-output');
            const outputText = [
                "PXE-E61: Media test failure, check cable",
                "PXE-M0F: Exiting Intel PXE ROM",
                "Reboot and Select proper Boot device or Insert Boot Media in selected Boot device",
                "_"
            ];
            let lineIndex = 0;
            const netbootInterval = setInterval(() => {
                if (lineIndex < outputText.length) {
                    netbootOutput.innerHTML += `<p>${outputText[lineIndex]}</p>`;
                    lineIndex++;
                } else {
                    clearInterval(netbootInterval);
                    document.getElementById('netboot-continue-btn').classList.remove('hidden');
                }
            }, 1000);
        }

        function setupPrehistoricInteractions() {
            const prehistoricItems = document.querySelectorAll('.prehistoric-item');
            const prehistoricInfo = document.getElementById('prehistoric-info');
            prehistoricItems.forEach(item => {
                item.addEventListener('mouseenter', () => {
                    prehistoricInfo.textContent = item.getAttribute('data-info');
                    prehistoricInfo.classList.remove('hidden');
                });
                item.addEventListener('mouseleave', () => {
                    prehistoricInfo.classList.add('hidden');
                });
            });
            document.getElementById('prehistoric-continue-btn').addEventListener('click', () => nextStage());
        }

        function setupSeventiesInteractions() {
            const infoIcons = document.querySelectorAll('.info-icon');
            const infoPanel = document.getElementById('info-panel');
            infoIcons.forEach(icon => {
                icon.addEventListener('click', (event) => {
                    const info = event.target.closest('.info-icon').getAttribute('data-info');
                    infoPanel.textContent = info;
                    infoPanel.classList.remove('hidden');
                });
            });
            document.getElementById('seventies-continue-btn').addEventListener('click', () => nextStage());
        }

        function setupArcadeStage() {
            document.getElementById('insert-coin-btn').addEventListener('click', () => {
                const arcadeScreen = document.getElementById('arcade-screen');
                arcadeScreen.innerHTML = '<h2>PLAYING...</h2><p>Game over. Press continue to proceed.</p>';
                document.getElementById('insert-coin-btn').classList.add('hidden');
                document.getElementById('arcade-continue-btn').classList.remove('hidden');
            });
        }

        function fillProgress(id, duration, callback) {
            const el = document.getElementById(id);
            let width = 0;
            const interval = setInterval(() => {
                width += 2;
                if (width >= 100) {
                    width = 100;
                    clearInterval(interval);
                    if (callback) callback();
                }
                el.style.width = width + '%';
            }, duration / 50);
        }

        function startNokiaParody() {
            const statusText = document.getElementById('nokia-status-text');
            const flash = document.getElementById('nokia-flash');
            const bgAudio = document.getElementById('bg-audio');

            bgAudio.play();
            flash.style.animationPlayState = 'running';
            
            speak("I'm sorry user,", 1200);
            speak("I can't do that.", 2500);
            speak("Or wait... yes I can!", 4000);
            speak("We were just pulling your leg.", 5500);

            setTimeout(() => {
                statusText.textContent = "ACCESS GRANTED";
                statusText.style.color = "green";
                flash.style.animationPlayState = 'paused';
                flash.style.opacity = '0';
            }, 6000); 

            setTimeout(() => nextStage(), 9000);
        }
        
        // EVENT LISTENERS
        document.addEventListener('keydown', nextStage);
        document.getElementById('enigma-stage').onclick = nextStage;
        document.getElementById('prehistoric-continue-btn').onclick = nextStage;
        document.getElementById('dos-stage').onclick = nextStage;
        document.getElementById('win31-stage').onclick = nextStage;
        document.getElementById('bsod-stage').onclick = nextStage;
        document.getElementById('skip-bsod-btn').onclick = () => window.location.href = 'homepage.html';
        document.getElementById('code-era-continue-btn').onclick = nextStage;
        document.getElementById('winxp-continue-btn').onclick = nextStage;
        document.getElementById('fox-continue-btn').onclick = nextStage;
        document.getElementById('mac-continue-btn').onclick = nextStage;
        document.getElementById('seventies-continue-btn').onclick = nextStage;
        document.getElementById('sus-history-continue-btn').onclick = nextStage;
        document.getElementById('arcade-continue-btn').onclick = nextStage;
        document.getElementById('rave-continue-btn').onclick = nextStage;
        document.getElementById('glitch-continue-btn').onclick = nextStage;
        document.getElementById('nokia-continue-btn').onclick = nextStage;
        document.getElementById('linux-continue-btn').onclick = () => window.location.href = 'homepage.html';
        document.getElementById('netboot-continue-btn').onclick = () => nextStage();
        document.getElementById('genesis-continue-btn').onclick = () => nextStage();

        // START THE SEQUENCE
        document.getElementById('enigma-stage').classList.add('active');
    });
</script>
</body>
</html>

