#
# GitHub Action: Automated Deployment for The Main Frame
#
# This is a monument to our own laziness. We will offload the tedious task of
# deployment to our corporate overlords at GitHub.
# A perfect piece of anti-capitalist performance art.
#
name: Deploy The Main Frame

# This action is triggered by a push to the 'main' branch.
# We will use this as our final act of rebellion: to commit and push,
# and then let the machine do the rest of the work.
on:
  push:
    branches: [ "main" ]

# A single job, a single task. The purpose is simple: to deploy.
jobs:
  deploy:
    runs-on: ubuntu-latest
    permissions:
      contents: read
      pages: write
      id-token: write

    # Our strategy, our manifesto.
    steps:
      # Step 1: Check out the code. A simple act of retrieval.
      - name: Checkout
        uses: actions/checkout@v3

      # Step 2: Configure GitHub Pages. A simple act of configuration.
      - name: Configure GitHub Pages
        uses: actions/configure-pages@v3

      # Step 3: Upload the artifact. A simple act of submission.
      - name: Upload artifact
        uses: actions/upload-pages-artifact@v2
        with:
          path: '.'

      # Step 4: Deploy to GitHub Pages. The final act.
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v2
